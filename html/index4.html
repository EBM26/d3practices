<!DOCTYPE html>
<html>
<head>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <title>Basic D3 Tutorial Youtube d3Vienno</title> 
  
</head>
<body>
<h1>Loading External Data, Video #10</h1> <!-- teaches using d3 on "external" data -->


<script>

  d3.json("mydata.json", function (data) { // grabbing our json data throught d3

    var canvas = d3.select("body") // creates our usual canvas for the display of data
    .append("svg")
    .attr("width", 500)     
    .attr("height", 500); 

    canvas.selectAll("rect") // making the bars to display
        .data(data) // gets the data using the data argument
        .enter()  // common placeholder 
            .append("rect")
            .attr("width", function(d) { return d.age * 10 }) // using the argument "d" for looping throught the data object and calling on the object key you want the width to represent, in this case "age"
            .attr("height", 40)
            .attr("y", function(d, i) { return i * 50 }) // "y" property is a function of the index 
            .attr("fill", "blue")


    canvas.selectAll("text") // adding text to bars 
          .data(data)
          .enter()
              .append("text")
              .attr("fill", "black")
              .attr("y", function(d, i) { return i * 50 + 20 }) // the "+20" is so the name can be displayed inside the bars properly
              .text(function (d) { return d.name; }) // specifies what content of text by looping through json object and parsing name key 
    })
</script>



</body>
</html>